# OS 답변 1-4

## 1. 시스템 콜이 무엇인지 설명해 주세요.

**정의**
시스템 콜(System Call)은 사용자 프로그램이 운영체제의 커널에 서비스를 요청하기 위한 인터페이스입니다. 응용 프로그램과 운영체제 커널 사이의 다리 역할을 수행합니다.

**특징**
- 사용자 모드에서 커널 모드로 전환하는 메커니즘을 제공합니다
- 하드웨어 자원에 대한 안전한 접근을 보장합니다
- 프로그램이 직접 하드웨어를 제어하지 못하도록 보호합니다
- 표준화된 인터페이스를 통해 운영체제 독립적인 프로그래밍을 가능하게 합니다

**동작 원리**
사용자 프로그램이 시스템 콜을 호출하면 소프트웨어 인터럽트가 발생하고, CPU는 커널 모드로 전환하여 운영체제가 요청을 처리합니다. 처리가 완료되면 결과를 반환하고 다시 사용자 모드로 돌아갑니다.

**실무 활용**
- 파일 입출력, 네트워크 통신, 프로세스 생성 등 모든 시스템 자원 접근에 필수적입니다
- 라이브러리 함수들이 내부적으로 시스템 콜을 래핑하여 사용자에게 편리한 API를 제공합니다
- 보안과 안정성을 위해 커널 자원에 대한 유일한 접근 방법으로 설계되었습니다

---

## 2. 우리가 사용하는 시스템 콜의 예시를 들어주세요.

**프로세스 제어 시스템 콜**
- fork(): 새로운 프로세스를 생성합니다
- exec(): 프로세스를 다른 프로그램으로 교체합니다
- exit(): 프로세스를 종료합니다
- wait(): 자식 프로세스의 종료를 대기합니다

**파일 관리 시스템 콜**
- open(): 파일을 열고 파일 디스크립터를 반환합니다
- read(): 파일에서 데이터를 읽습니다
- write(): 파일에 데이터를 씁니다
- close(): 열린 파일을 닫습니다
- lseek(): 파일 포인터의 위치를 변경합니다

**장치 관리 시스템 콜**
- ioctl(): 장치를 제어합니다
- read()/write(): 장치로부터 데이터를 읽거나 씁니다

**정보 유지 시스템 콜**
- getpid(): 현재 프로세스의 ID를 반환합니다
- time(): 현재 시간을 반환합니다
- sleep(): 프로세스를 일정 시간 동안 대기시킵니다

**통신 시스템 콜**
- pipe(): 프로세스 간 통신을 위한 파이프를 생성합니다
- socket(): 네트워크 통신을 위한 소켓을 생성합니다
- send()/recv(): 데이터를 송수신합니다

**실무 활용**
C/C++의 printf() 함수는 내부적으로 write() 시스템 콜을 호출하고, Java의 파일 입출력 클래스들도 운영체제의 시스템 콜을 사용합니다.

---

## 3. 시스템 콜이, 운영체제에서 어떤 과정으로 실행되는지 설명해 주세요.

**실행 과정**

**1단계: 시스템 콜 호출**
- 사용자 프로그램이 라이브러리 함수를 통해 시스템 콜을 호출합니다
- 시스템 콜 번호와 필요한 매개변수를 레지스터에 저장합니다

**2단계: 모드 전환**
- 소프트웨어 인터럽트(trap)를 발생시켜 커널 모드로 전환합니다
- CPU는 사용자 모드에서 커널 모드로 특권 수준을 변경합니다
- 현재 프로그램 카운터와 상태 레지스터를 저장합니다

**3단계: 시스템 콜 핸들러 실행**
- 인터럽트 벡터 테이블을 통해 시스템 콜 핸들러로 이동합니다
- 시스템 콜 번호를 확인하여 해당하는 커널 함수를 식별합니다
- 시스템 콜 테이블을 참조하여 적절한 서비스 루틴을 호출합니다

**4단계: 서비스 실행**
- 커널이 요청된 작업을 수행합니다
- 필요한 경우 하드웨어 자원에 접근하거나 다른 커널 함수를 호출합니다
- 매개변수의 유효성을 검사하고 보안 검사를 수행합니다

**5단계: 결과 반환**
- 작업 결과를 레지스터에 저장합니다
- 저장했던 레지스터와 프로그램 카운터를 복원합니다
- 사용자 모드로 다시 전환하여 원래 프로그램으로 제어를 반환합니다

**오버헤드**
시스템 콜은 모드 전환과 컨텍스트 저장/복원으로 인해 일반 함수 호출보다 비용이 큽니다. 따라서 빈번한 시스템 콜은 성능 저하의 원인이 될 수 있습니다.

**실무 활용**
시스템 콜의 오버헤드를 줄이기 위해 버퍼링, 캐싱 등의 기법을 사용하며, 성능이 중요한 애플리케이션에서는 시스템 콜 횟수를 최소화하는 것이 중요합니다.

---

## 4. 시스템 콜의 유형에 대해 설명해 주세요.

**프로세스 제어(Process Control)**
- 프로세스의 생성, 종료, 중단, 재개를 관리합니다
- 프로세스의 속성을 조회하고 설정합니다
- 예: fork(), exit(), wait(), exec(), kill()
- 실무에서 멀티프로세스 아키텍처 구현에 필수적입니다

**파일 관리(File Management)**
- 파일의 생성, 삭제, 읽기, 쓰기를 수행합니다
- 파일 속성을 조회하고 변경합니다
- 예: open(), close(), read(), write(), lseek(), stat()
- 모든 파일 시스템 작업의 기본이 됩니다

**장치 관리(Device Management)**
- 하드웨어 장치에 대한 접근을 제어합니다
- 장치의 요청, 해제, 읽기, 쓰기를 처리합니다
- 예: ioctl(), read(), write()
- 유닉스에서는 장치도 파일처럼 취급하여 일관된 인터페이스를 제공합니다

**정보 유지(Information Maintenance)**
- 시스템 시간, 날짜, 프로세스 정보 등을 조회합니다
- 시스템 통계 정보를 수집합니다
- 예: getpid(), alarm(), time(), gettimeofday()
- 모니터링 및 디버깅에 활용됩니다

**통신(Communication)**
- 프로세스 간 데이터 교환을 지원합니다
- 네트워크 통신을 처리합니다
- 예: pipe(), socket(), send(), recv(), shmget()
- IPC와 네트워크 프로그래밍의 핵심입니다

**보호(Protection)**
- 파일 및 자원에 대한 접근 권한을 제어합니다
- 보안 정책을 적용합니다
- 예: chmod(), chown(), setuid()
- 시스템 보안의 기반이 됩니다

**실무 활용**
각 시스템 콜 유형은 특정 목적에 최적화되어 있으며, 적절한 시스템 콜을 선택하는 것이 효율적인 프로그래밍의 핵심입니다. 대부분의 고수준 프로그래밍 언어는 이러한 시스템 콜들을 추상화하여 더 사용하기 쉬운 API를 제공합니다.
