# Network 답변 모음 (53-56)

## 53. OSI 7계층에 대해 설명해 주세요.

**OSI 7계층 모델(Open Systems Interconnection Model)**은 네트워크 통신을 7개의 추상 계층으로 나눈 표준 모델입니다.

**1계층 - 물리 계층(Physical Layer):**
비트 스트림을 전기 신호, 광 신호, 전파로 변환하여 물리적 매체를 통해 전송합니다. 케이블, 허브, 리피터, 네트워크 카드의 물리적 특성을 다룹니다. 전압 레벨, 타이밍, 물리적 커넥터 등을 정의합니다. 오류 감지나 수정 기능은 없으며 단순히 신호만 전달합니다.

**2계층 - 데이터링크 계층(Data Link Layer):**
같은 네트워크 내에서 노드 간 신뢰성 있는 프레임 전송을 담당합니다. MAC 주소를 사용하여 장치를 식별합니다. 오류 검출과 수정, 흐름 제어를 수행합니다. 이더넷, Wi-Fi, PPP 프로토콜이 동작하는 계층입니다. 스위치와 브리지가 이 계층에서 동작합니다.

**3계층 - 네트워크 계층(Network Layer):**
서로 다른 네트워크 간 패킷을 라우팅합니다. IP 주소를 사용하여 논리적 주소 지정을 합니다. 최적의 경로를 선택하고 패킷을 전달합니다. IP, ICMP, 라우팅 프로토콜(OSPF, BGP)이 동작합니다. 라우터가 이 계층에서 동작합니다.

**4계층 - 전송 계층(Transport Layer):**
엔드투엔드 통신을 제공하고 데이터 전송의 신뢰성을 보장합니다. 포트 번호로 애플리케이션을 식별합니다. 세그먼트 단위로 데이터를 나누고 재조립합니다. TCP(신뢰성)와 UDP(빠른 전송) 프로토콜이 있습니다. 흐름 제어, 혼잡 제어, 오류 복구를 수행합니다.

**5계층 - 세션 계층(Session Layer):**
통신 세션을 설정, 유지, 종료합니다. 대화 제어(Dialog Control)와 동기화를 관리합니다. 체크포인트와 복구 메커니즘을 제공합니다. 실무에서는 애플리케이션 계층에 통합되는 경우가 많습니다. RPC, NetBIOS 등이 이 계층에 해당합니다.

**6계층 - 표현 계층(Presentation Layer):**
데이터의 형식을 변환하고 암호화/복호화를 수행합니다. 서로 다른 시스템 간 데이터 표현 방식을 통일합니다. 문자 인코딩(ASCII, UTF-8), 압축, 암호화(SSL/TLS)를 담당합니다. JPEG, MPEG, ASCII 등의 형식을 다룹니다.

**7계층 - 애플리케이션 계층(Application Layer):**
사용자와 가장 가까운 계층으로 실제 애플리케이션 서비스를 제공합니다. HTTP, FTP, SMTP, DNS, SSH 등의 프로토콜이 동작합니다. 사용자 인터페이스와 직접 상호작용합니다. 웹 브라우저, 이메일 클라이언트 등이 이 계층에서 동작합니다.

**캡슐화(Encapsulation):**
데이터가 하위 계층으로 내려갈 때마다 해당 계층의 헤더가 추가됩니다. 각 계층은 자신의 헤더만 처리하고 나머지는 페이로드로 간주합니다. 수신 측에서는 역순으로 헤더를 제거하며 올라갑니다(역캡슐화).

**계층별 데이터 단위:**
- **물리 계층**: 비트(Bit)
- **데이터링크 계층**: 프레임(Frame)
- **네트워크 계층**: 패킷(Packet)
- **전송 계층**: 세그먼트(Segment) 또는 데이터그램(Datagram)
- **세션/표현/애플리케이션**: 데이터(Data) 또는 메시지(Message)

**OSI 모델의 장점:**
계층별로 독립적인 개발이 가능합니다. 특정 계층의 변경이 다른 계층에 영향을 주지 않습니다. 표준화된 인터페이스로 상호운용성이 향상됩니다. 네트워크 문제 해결 시 계층별로 분리하여 진단할 수 있습니다.

**TCP/IP 모델과의 차이:**
실무에서는 OSI 7계층보다 TCP/IP 4계층 모델을 더 많이 사용합니다. TCP/IP는 네트워크 인터페이스, 인터넷, 전송, 애플리케이션의 4계층으로 구성됩니다. OSI는 이론적 모델, TCP/IP는 실용적 모델입니다.

**실무 활용:**
네트워크 교육과 표준화에 OSI 모델을 사용합니다. 문제 해결 시 "3계층 문제"처럼 계층별로 분류합니다. 각 계층의 역할을 이해하면 복잡한 네트워크를 체계적으로 파악할 수 있습니다.

---

## 54. Transport Layer와, Network Layer의 차이에 대해 설명해 주세요.

**전송 계층(Transport Layer)**과 **네트워크 계층(Network Layer)**은 OSI 모델에서 서로 다른 역할과 책임을 가진 계층입니다.

**기본 역할:**
- **네트워크 계층**: 서로 다른 네트워크 간 패킷을 라우팅하고 전달합니다
- **전송 계층**: 엔드포인트 간 데이터 전송의 신뢰성과 순서를 보장합니다

**주소 지정:**
- **네트워크 계층**: IP 주소를 사용하여 호스트를 식별합니다
- **전송 계층**: 포트 번호를 사용하여 호스트 내의 특정 프로세스나 서비스를 식별합니다

**통신 범위:**
- **네트워크 계층**: 호스트 대 호스트(Host-to-Host) 통신을 제공합니다
- **전송 계층**: 프로세스 대 프로세스(Process-to-Process) 통신을 제공합니다

**신뢰성:**
- **네트워크 계층**: IP는 최선형 전달(Best Effort)로 신뢰성을 보장하지 않습니다
- **전송 계층**: TCP는 신뢰성 있는 전송을, UDP는 빠른 전송을 제공합니다

**라우팅 vs 전송 제어:**
- **네트워크 계층**: 패킷이 목적지까지 가는 경로를 결정합니다. 라우팅 테이블과 알고리즘을 사용합니다
- **전송 계층**: 데이터가 올바르게 전달되도록 제어합니다. 재전송, 순서 보장, 흐름 제어를 수행합니다

**처리 위치:**
- **네트워크 계층**: 모든 라우터와 호스트에서 처리됩니다. 중간 노드가 패킷을 검사하고 전달합니다
- **전송 계층**: 엔드포인트(송신자와 수신자)에서만 처리됩니다. 중간 라우터는 전송 계층을 보지 않습니다

**프로토콜:**
- **네트워크 계층**: IP, ICMP, IGMP, 라우팅 프로토콜(OSPF, BGP)
- **전송 계층**: TCP, UDP, SCTP, DCCP

**데이터 단위:**
- **네트워크 계층**: 패킷(Packet) 또는 데이터그램(Datagram)
- **전송 계층**: 세그먼트(Segment - TCP) 또는 데이터그램(Datagram - UDP)

**흐름 제어와 혼잡 제어:**
- **네트워크 계층**: 혼잡 제어를 직접 수행하지 않지만, ICMP로 혼잡을 알립니다
- **전송 계층**: TCP가 흐름 제어와 혼잡 제어를 적극적으로 수행합니다

**멀티플렉싱:**
- **네트워크 계층**: 여러 상위 프로토콜(TCP, UDP, ICMP)의 패킷을 IP 패킷에 캡슐화합니다
- **전송 계층**: 여러 애플리케이션의 데이터를 포트 번호로 구분하여 멀티플렉싱/디멀티플렉싱합니다

**세그먼테이션:**
- **네트워크 계층**: 큰 패킷을 MTU에 맞게 단편화(Fragmentation)합니다
- **전송 계층**: 애플리케이션 데이터를 MSS에 맞게 세그먼트로 나눕니다

**오류 처리:**
- **네트워크 계층**: 오류를 감지하고 패킷을 폐기하지만 복구하지 않습니다
- **전송 계층**: TCP는 오류를 감지하고 재전송으로 복구합니다

**엔드투엔드 원칙:**
- **네트워크 계층**: 홉바이홉(Hop-by-Hop) 처리로 각 라우터가 패킷을 개별적으로 처리합니다
- **전송 계층**: 엔드투엔드(End-to-End) 원칙으로 송신자와 수신자 간 직접 제어합니다

**실무 예시:**
웹 페이지를 요청할 때, 네트워크 계층(IP)은 서버까지 패킷을 전달하고, 전송 계층(TCP)은 웹 서버의 80번 포트와 통신하여 완전한 HTML 파일을 신뢰성 있게 받습니다.

**계층 간 협력:**
두 계층은 독립적이지만 협력합니다. 전송 계층은 네트워크 계층의 서비스를 이용하고, 네트워크 계층은 전송 계층에게 기본 전달 서비스를 제공합니다.

---

## 55. L3 Switch와 Router의 차이에 대해 설명해 주세요.

**L3 스위치(Layer 3 Switch)**와 **라우터(Router)**는 모두 네트워크 계층에서 동작하지만, 설계 목적과 특성에서 차이가 있습니다.

**기본 정의:**
- **라우터**: 서로 다른 네트워크 간 패킷을 라우팅하는 전용 장비입니다
- **L3 스위치**: 스위칭 기능에 라우팅 기능을 추가한 하이브리드 장비입니다

**주요 목적:**
- **라우터**: WAN 연결, 인터넷 게이트웨이, 복잡한 라우팅 정책 구현
- **L3 스위치**: LAN 내부의 고속 라우팅, VLAN 간 통신

**처리 방식:**
- **라우터**: 소프트웨어 기반 라우팅으로 유연하지만 상대적으로 느립니다
- **L3 스위치**: ASIC(Application-Specific Integrated Circuit) 하드웨어로 고속 처리합니다

**성능:**
- **라우터**: 패킷당 처리(Packet-by-Packet), 상대적으로 낮은 처리량
- **L3 스위치**: 와이어 스피드(Wire Speed) 처리, 매우 높은 처리량

**포트 수와 밀도:**
- **라우터**: 일반적으로 적은 수의 포트(수개~수십 개)
- **L3 스위치**: 많은 수의 포트(24, 48, 수백 개)로 고밀도 연결

**라우팅 프로토콜 지원:**
- **라우터**: BGP, OSPF, EIGRP, RIP 등 모든 라우팅 프로토콜을 완벽하게 지원합니다
- **L3 스위치**: 기본적인 라우팅 프로토콜은 지원하지만, 복잡한 기능은 제한적일 수 있습니다

**WAN 인터페이스:**
- **라우터**: 시리얼, T1/E1, DSL, 광 WAN 등 다양한 WAN 인터페이스 지원
- **L3 스위치**: 주로 이더넷 인터페이스만 지원하며, WAN 기능은 제한적입니다

**NAT와 방화벽:**
- **라우터**: NAT, 방화벽, VPN, QoS 등 고급 기능을 풍부하게 제공합니다
- **L3 스위치**: 기본적인 ACL은 지원하지만, 고급 보안 기능은 제한적입니다

**QoS(Quality of Service):**
- **라우터**: 복잡한 QoS 정책, 트래픽 쉐이핑, 대역폭 관리
- **L3 스위치**: 기본적인 QoS(우선순위, VLAN 기반) 지원

**VLAN 지원:**
- **라우터**: VLAN 간 라우팅은 가능하지만 VLAN 생성과 관리는 제한적입니다
- **L3 스위치**: VLAN 생성, 관리, VLAN 간 라우팅이 주요 기능입니다

**가격:**
- **라우터**: 기능과 성능에 따라 다양하지만, 동급 성능 대비 L3 스위치보다 비쌉니다
- **L3 스위치**: 대량 생산으로 포트당 가격이 저렴합니다

**라우팅 테이블 크기:**
- **라우터**: 수백만 개의 라우팅 엔트리를 처리할 수 있습니다(인터넷 전체 라우팅 테이블)
- **L3 스위치**: 일반적으로 수천~수만 개의 엔트리로 제한됩니다

**사용 위치:**
- **라우터**: 네트워크 경계(인터넷 연결), 지사 간 연결, ISP 백본
- **L3 스위치**: 데이터센터, 기업 코어/분산 레이어, 캠퍼스 네트워크

**멀티캐스트:**
- **라우터**: PIM, IGMP 등 고급 멀티캐스트 라우팅 지원
- **L3 스위치**: 기본적인 IGMP 스누핑, 제한적인 멀티캐스트 라우팅

**관리와 설정:**
- **라우터**: 복잡한 CLI, 다양한 설정 옵션, 세밀한 제어
- **L3 스위치**: 상대적으로 단순한 설정, GUI 지원 많음

**수렴 경향:**
최신 장비들은 두 카테고리의 경계가 모호해지고 있습니다. 고급 L3 스위치는 라우터 기능을 많이 탑재하고, 라우터는 처리 성능이 향상되고 있습니다.

**실무 선택 기준:**
- **인터넷 연결, WAN 연결**: 라우터
- **VLAN 간 라우팅, 데이터센터 내부**: L3 스위치
- **복잡한 정책, 보안 기능**: 라우터
- **고속, 대량 트래픽**: L3 스위치

**하이브리드 접근:**
대규모 네트워크에서는 경계에 라우터를, 내부에 L3 스위치를 배치하는 것이 일반적입니다.

---

## 56. 각 Layer는 패킷을 어떻게 명칭하나요? 예를 들어, Transport Layer의 경우 Segment라 부릅니다.

각 OSI 계층에서 **데이터 단위**는 서로 다른 이름으로 불리며, 이는 각 계층의 역할과 처리 방식을 반영합니다.

**물리 계층(Physical Layer) - 비트(Bit):**
가장 기본 단위인 0과 1의 비트 스트림입니다. 전기 신호, 광 신호, 전파 등 물리적 매체를 통해 전송됩니다. 프레임이나 패킷의 개념이 없이 단순히 비트만 존재합니다.

**데이터링크 계층(Data Link Layer) - 프레임(Frame):**
비트 스트림을 의미 있는 단위로 묶은 것입니다. MAC 주소 정보를 포함하는 헤더와 트레일러로 감쌉니다. 이더넷 프레임, Wi-Fi 프레임 등이 있습니다. 오류 검출을 위한 FCS(Frame Check Sequence)를 포함합니다.

**네트워크 계층(Network Layer) - 패킷(Packet):**
라우팅 가능한 데이터 단위입니다. IP 헤더를 포함하여 송신지와 목적지 IP 주소를 가집니다. 일반적으로 "IP 패킷" 또는 "데이터그램(Datagram)"이라고 부릅니다. 데이터그램은 특히 비연결형 전송을 강조할 때 사용합니다.

**전송 계층(Transport Layer) - 세그먼트(Segment) / 데이터그램(Datagram):**
- **TCP**: 세그먼트(Segment)라고 부릅니다. 연결 지향적이고 순서가 있는 데이터 단위입니다
- **UDP**: 데이터그램(Datagram)이라고 부릅니다. 비연결형이고 독립적인 데이터 단위입니다

포트 번호로 애플리케이션을 식별하며, TCP는 순서 번호와 확인 응답 정보를 포함합니다.

**세션 계층(Session Layer) - 데이터(Data):**
특별한 명칭이 없으며 일반적으로 데이터 또는 메시지라고 부릅니다. 세션 관리와 관련된 제어 정보를 포함할 수 있습니다.

**표현 계층(Presentation Layer) - 데이터(Data):**
변환되고 형식화된 데이터입니다. 암호화, 압축, 인코딩된 형태를 가질 수 있습니다. 특별한 명칭보다는 처리 방식에 따라 "암호화된 데이터", "압축된 데이터" 등으로 표현합니다.

**애플리케이션 계층(Application Layer) - 메시지(Message) / 데이터(Data):**
사용자 데이터 또는 애플리케이션 메시지입니다. 프로토콜에 따라 다양한 이름을 사용합니다:
- **HTTP**: HTTP 메시지(요청/응답)
- **SMTP**: 이메일 메시지
- **DNS**: DNS 쿼리/응답
- **FTP**: FTP 명령/데이터

**캡슐화 과정에서의 명칭 변화:**
애플리케이션 데이터가 하위 계층으로 내려가면서:
1. 애플리케이션: 메시지
2. 전송 계층: 세그먼트(TCP) 또는 데이터그램(UDP) - TCP/UDP 헤더 추가
3. 네트워크 계층: 패킷 - IP 헤더 추가
4. 데이터링크 계층: 프레임 - 이더넷 헤더와 트레일러 추가
5. 물리 계층: 비트 - 물리적 신호로 변환

**역캡슐화(Decapsulation):**
수신 측에서는 역순으로 각 계층의 헤더를 제거하며:
1. 물리: 비트를 프레임으로
2. 데이터링크: 프레임을 패킷으로
3. 네트워크: 패킷을 세그먼트로
4. 전송: 세그먼트를 데이터로
5. 애플리케이션: 최종 메시지 전달

**PDU(Protocol Data Unit):**
각 계층의 데이터 단위를 통칭하여 PDU라고 부릅니다. Layer N PDU는 해당 계층의 헤더와 상위 계층의 전체 데이터를 포함합니다.

**실무에서의 사용:**
- "패킷을 캡처했다"고 하면 일반적으로 네트워크 계층 이상의 데이터를 의미합니다
- "프레임을 분석한다"고 하면 데이터링크 계층부터 전체를 보는 것입니다
- "세그먼트가 손실되었다"고 하면 TCP 레벨의 문제를 의미합니다

**TCP/IP 모델에서:**
TCP/IP 4계층 모델에서는 용어가 약간 다릅니다:
- 네트워크 인터페이스 계층: 프레임
- 인터넷 계층: 패킷 또는 데이터그램
- 전송 계층: 세그먼트(TCP) 또는 데이터그램(UDP)
- 애플리케이션 계층: 메시지 또는 데이터

**중요성:**
정확한 용어 사용은 네트워크 문제를 소통하고 진단할 때 중요합니다. "패킷 손실"과 "프레임 에러"는 서로 다른 계층의 문제를 나타냅니다.
